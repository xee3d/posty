# Posty í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜

## 1. ì „ì²´ êµ¬ì¡° (System Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           React Native App                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  AIWriteScreen   â”‚  â”‚ SettingsScreen  â”‚  â”‚  TrendScreen    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                      Redux Store                              â”‚      â”‚
â”‚  â”‚                  (userSlice, tokenSlice)                     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                         Firebase                              â”‚      â”‚
â”‚  â”‚                    (Auth & Firestore)                        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            API Gateway                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ AIServiceWrapper â”‚           â”‚ serverAIService â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                              â”‚
                     â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AI Content Server         â”‚    â”‚       Trend Data Server             â”‚
â”‚ posty-server-new.vercel.app  â”‚    â”‚    posty-api-v2.vercel.app         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ /api/generate            â”‚    â”‚  â€¢ /api/trends                      â”‚
â”‚  â€¢ /api/health              â”‚    â”‚  â€¢ /api/health                      â”‚
â”‚  â€¢ /api/generate-test       â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           OpenAI API                                     â”‚
â”‚                          (GPT-4o-mini)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. ë°ì´í„° í”Œë¡œìš° (Data Flow)

### 2.1 AI ì½˜í…ì¸  ìƒì„± í”Œë¡œìš°

```
ì‚¬ìš©ì ì…ë ¥ â†’ AIServiceWrapper â†’ Vercel Server â†’ OpenAI API
    ğŸ“±              ğŸ”„                ğŸ–¥ï¸            ğŸ¤–

1. ì‚¬ìš©ìê°€ í”„ë¡¬í”„íŠ¸ ì…ë ¥ (í†¤, ê¸¸ì´ ì„ íƒ)
2. AIServiceWrapperê°€ ìš”ì²­ ê²€ì¦ ë° í”Œë«í¼ë³„ ìµœì í™”
3. Vercel ì„œë²„ê°€ OpenAI API í˜¸ì¶œ (ë³´ì•ˆ í‚¤ ê´€ë¦¬)
4. GPT-4o-miniê°€ ì½˜í…ì¸  ìƒì„± í›„ ë°˜í™˜
```

### 2.2 ì¸ì¦ ë° ë°ì´í„° ë™ê¸°í™”

```
Google Auth â†’ Redux Store â†”ï¸ Firestore
    ğŸ”           ğŸ—„ï¸           â˜ï¸

â€¢ Firebase Authë¡œ ë¡œê·¸ì¸ â†’ Redux store ì—…ë°ì´íŠ¸
â€¢ Firestore ì‹¤ì‹œê°„ ë™ê¸°í™” (êµ¬ë… ì •ë³´, í† í°, ì„¤ì •)
â€¢ ì˜¤í”„ë¼ì¸ ì§€ì› ë° ìºì‹±
```

### 2.3 í† í° ì‹œìŠ¤í…œ

| í”Œëœ | ì•„ì´ì½˜ | í† í° ì œí•œ |
|------|--------|-----------|
| FREE | ğŸ†“ | 10ê°œ/ì¼ |
| STARTER | â­ | 200ê°œ/ì›” |
| PREMIUM | ğŸ’ | 500ê°œ/ì›” |
| PRO | ğŸ‘‘ | ë¬´ì œí•œ |

## 3. ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Frontend
- âš›ï¸ React Native 0.74
- ğŸ—ƒï¸ Redux Toolkit
- ğŸ”¥ Firebase SDK
- ğŸ“± React Navigation
- ğŸ¨ React Native Vector Icons

### Backend
- â–² Vercel Functions
- ğŸŸ¢ Node.js
- ğŸ”’ Environment Variables
- âš¡ Serverless Architecture
- ğŸŒ CORS Headers

### Services
- ğŸ¤– OpenAI API (GPT-4o-mini)
- ğŸ”¥ Firebase Authentication
- â˜ï¸ Firestore Database
- ğŸ“Š Trend APIs
- ğŸ’³ In-App Purchase

## 4. ì£¼ìš” íŠ¹ì§•

### ë³´ì•ˆ
- API í‚¤ëŠ” ì„œë²„ì—ì„œë§Œ ê´€ë¦¬
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ë¥¼ í†µí•´ì„œë§Œ OpenAI API ì ‘ê·¼
- Firebase Authë¡œ ì‚¬ìš©ì ì¸ì¦

### í™•ì¥ì„±
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜
- AI ì„œë²„ì™€ íŠ¸ë Œë“œ ì„œë²„ ë¶„ë¦¬
- Serverless í™˜ê²½ìœ¼ë¡œ ìë™ ìŠ¤ì¼€ì¼ë§

### ì‹¤ì‹œê°„ ë™ê¸°í™”
- Firestoreë¥¼ í†µí•œ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- Redux ë¯¸ë“¤ì›¨ì–´ë¡œ ìë™ ìƒíƒœ ê´€ë¦¬
- ì˜¤í”„ë¼ì¸ ì§€ì›

### ì„±ëŠ¥ ìµœì í™”
- í† í° ì‚¬ìš©ëŸ‰ ì‹¤ì‹œê°„ ì¶”ì 
- ìºì‹±ì„ í†µí•œ API í˜¸ì¶œ ìµœì†Œí™”
- í”Œë«í¼ë³„ ì½˜í…ì¸  ìµœì í™”

## 5. API ì—”ë“œí¬ì¸íŠ¸

### AI Content Server
- `POST /api/generate` - AI ì½˜í…ì¸  ìƒì„±
- `GET /api/health` - ì„œë²„ ìƒíƒœ í™•ì¸
- `GET /api/generate-test` - API í…ŒìŠ¤íŠ¸

### Trend Data Server
- `GET /api/trends` - ì‹¤ì‹œê°„ íŠ¸ë Œë“œ ë°ì´í„°
- `GET /api/health` - ì„œë²„ ìƒíƒœ í™•ì¸

## 6. í™˜ê²½ ë³€ìˆ˜

### í´ë¼ì´ì–¸íŠ¸ (.env)
```
# Firebase ì„¤ì •
FIREBASE_API_KEY=
FIREBASE_AUTH_DOMAIN=
FIREBASE_PROJECT_ID=

# API ì„¤ì •
APP_SECRET=posty-secret-key-change-this-in-production
```

### ì„œë²„ (Vercel Environment Variables)
```
OPENAI_API_KEY=your_openai_api_key
APP_SECRET=posty-secret-key-change-this-in-production
```

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2025ë…„ 1ì›” 20ì¼*
